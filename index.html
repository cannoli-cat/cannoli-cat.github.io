<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <title>Tyler Wolfe | Portfolio</title>
</head>

<body>
    <nav>
        <div class="nav-container">
            <div class="logo">
                <span class="name">Tyler Wolfe</span><br>
                <span class="subtitle">Game Dev Portfolio</span>
            </div>
            <ul class="nav-links">
                <li><a href="#about">About</a></li>
                <li><a href="#projects">Projects</a></li>
                <li><a href="#games">Games</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </div>
    </nav>

    <section id="about">
        <h2>About Me</h2>

        <article class="about-card">
            <img src="docs/images/profile.jpg" alt="Picture of Tyler Wolfe" class="about-avatar">

            <div class="about-main">
                <p class="about-intro">
                    Hi, I'm Tyler Wolfe! I create games and game development tools in Unity that give developers more
                    freedom to create.
                </p>

                <details class="about-more">
                    <summary>Read more</summary>
                    <p>
                        I love tackling problems where a bit of extra engineering can save hours of manual work. My goal
                        is to
                        not only
                        make development faster and easier, but also to empower creators to make more ambitious and
                        unique projects.
                    </p>
                </details>
            </div>
        </article>
    </section>


    <section id="projects">
        <h2>Projects</h2>

        <div class="carousel" aria-roledescription="carousel">
            <div class="carousel-track" role="group" aria-label="Project slides">
                <article class="project-card slide" aria-roledescription="slide" aria-label="1 of 3">
                    <div class="project-media">
                        <video autoplay muted loop playsinline preload="metadata"
                            poster="docs/images/ditherdemo_poster.jpg">
                            <source src="docs/videos/ditherdemo.mp4" type="video/mp4">
                        </video>
                        <span class="badge">Preview</span>
                    </div>

                    <div class="project-body">
                        <header class="project-header">
                            <h3 class="project-title">Stylized Pixel Art Shaders</h3>
                            <a class="btn project-cta" href="https://github.com/cannoli-cat/pixel-stylized-shader-suite"
                                target="_blank">
                                View on GitHub
                            </a>
                        </header>

                        <p class="blurb">
                            A collection of stylized shaders for Unity with dithering, palette swapping,
                            sharpness filtering, and procedural pixel-art effects.
                        </p>

                        <dl class="kv">
                            <dt>Why</dt>
                            <dd>Pixel-art effects often need hand-drawn assets which slows iteration.
                            </dd>
                            <dt>What</dt>
                            <dd>Real-time shaders for dithering, palette swaps, sharpness, & procedural generators.
                            </dd>
                            <dt>Impact</dt>
                            <dd>Offloads work to the GPU which means faster iteration and experimentation.</dd>
                        </dl>
                    </div>
                </article>

                <article class="project-card slide" aria-roledescription="slide" aria-label="2 of 3">
                    <div class="project-media">
                        <video autoplay muted loop playsinline preload="metadata"
                            poster="docs/images/procanim_poster.jpg">
                            <source src="docs/videos/procanim_demo.mp4" type="video/mp4">
                        </video>
                        <span class="badge">Preview</span>
                    </div>

                    <div class="project-body">
                        <header class="project-header">
                            <h3 class="project-title">Second-Order Dynamics</h3>
                            <a class="btn project-cta" href="https://github.com/cannoli-cat/second-order-dynamics"
                                target="_blank">
                                View on GitHub
                            </a>
                        </header>

                        <p class="blurb">
                            A system for natural motion smoothing using second-order dynamics which adds lifelike lag
                            and overshoot without extra keyframes.
                        </p>

                        <dl class="kv">
                            <dt>Why</dt>
                            <dd>Keyframed motion can feel rigid without a professional and takes a lot of time to tweak.
                            </dd>
                            <dt>What</dt>
                            <dd>A tunable spring-damper filter that drives position & rotation toward a target in real
                                time.</dd>
                            <dt>Impact</dt>
                            <dd>More lifelike motion with less manual tweaking.</dd>
                        </dl>
                    </div>
                </article>

                <!-- <article class="project-card slide" aria-roledescription="slide" aria-label="3 of 3">
                    <div class="project-media">
                        <video autoplay muted loop playsinline preload="metadata"
                            poster="docs/images/scriptinglang_poster.jpg">
                            <source src="docs/videos/scriptinglang_demo.mp4" type="video/mp4">
                        </video>
                        <span class="badge">Preview</span>
                    </div>

                    <div class="project-body">
                        <header class="project-header">
                            <h3 class="project-title">Lightweight In-Game Scripting Language</h3>
                            <a class="btn project-cta" href="https://github.com/cannoli-cat/ingame-scripting"
                                target="_blank">
                                View on GitHub
                            </a>
                        </header>

                        <p class="blurb">
                            A custom interpreter for a loosely typed, in-game scripting language with support for
                            <code>if</code> statements, basic math, and variables. Designed for a hacking-sim style
                            game.
                        </p>

                        <dl class="kv">
                            <dt>Why</dt>
                            <dd>Give players the feel of real coding without requiring a full-blown language.</dd>
                            <dt>What</dt>
                            <dd>Lexer, parser, and interpreter in C# with identifiers, literals, operators, and control
                                flow.
                            </dd>
                            <dt>Impact</dt>
                            <dd>Enables emergent player solutions and replayability through scripting.</dd>
                        </dl>
                    </div>
                </article> -->
            </div>

            <button class="carousel-btn prev" aria-label="Previous project" type="button">‹</button>
            <button class="carousel-btn next" aria-label="Next project" type="button">›</button>

            <div class="carousel-dots" role="tablist" aria-label="Project navigation"></div>
        </div>
    </section>

    <section id="games">
        <h2>Games</h2>
        <div class="games-scroll">
            <iframe src="https://itch.io/embed/3935625" width="552" height="167" frameborder="0"><a
                    href="https://cannolicat.itch.io/six-omens">Six Omens</a></iframe>

            <iframe frameborder="0"
                src="https://itch.io/embed/3776284?bg_color=181a1b&fg_color=e4e4e4&link_color=4aa3df&border_color=333333"
                width="552" height="167">
                <a href="https://cannolicat.itch.io/apogee-logistics">Apogee Logistics</a>
            </iframe>

            <iframe frameborder="0"
                src="https://itch.io/embed/3060292?bg_color=181a1b&fg_color=e4e4e4&link_color=4aa3df&border_color=333333"
                width="552" height="167">
                <a href="https://cannolicat.itch.io/dead-silent">Dead Silent</a>
            </iframe>
        </div>
        <footer>
            <p>View all my games on <a href="https://cannolicat.itch.io" target="_blank">itch.io</a>.</p>
        </footer>
    </section>

    <section id="contact">
        <footer>
            <p>Contact: <a href="mailto:wolfetyler0115@gmail.com">wolfetyler0115@gmail.com</a> |
                <a href="https://www.linkedin.com/in/tyler-wolfe-24981124a">LinkedIn</a>
            </p>
        </footer>
    </section>

    <script>
        (() => {
            const carousel = document.querySelector('.carousel');
            const track = carousel.querySelector('.carousel-track');
            const slides = [...carousel.querySelectorAll('.slide')];
            const prevBtn = carousel.querySelector('.prev');
            const nextBtn = carousel.querySelector('.next');
            const dotsWrap = carousel.querySelector('.carousel-dots');
            const reduceMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            const isTouch = window.matchMedia('(pointer: coarse)').matches;

            let idx = 0;
            const DEFAULT_MS = 10000;
            const slideDurations = slides.map(() => DEFAULT_MS);

            function setDurationFromVideo(v, i) {
                if (Number.isFinite(v.duration) && v.duration > 0) {
                    slideDurations[i] = Math.round(v.duration * 1000);
                    if (i === idx && carousel.classList.contains('running')) startAuto(true);
                }
            }

            slides.forEach((s, i) => {
                const v = s.querySelector('video');
                if (!v) return;
                if (Number.isFinite(v.duration) && v.duration > 0) setDurationFromVideo(v, i);
                else v.addEventListener('loadedmetadata', () => setDurationFromVideo(v, i), { once: true });
            });

            const currentDuration = () => slideDurations[idx] || DEFAULT_MS;
            const getActiveVideo = () => slides[idx]?.querySelector('video') || null;

            let rafId = null;
            let timeoutId = null;
            let tStart = 0;
            let remain = currentDuration();

            function videoElapsedMs() {
                const dur = currentDuration();
                const v = getActiveVideo();
                if (!v || !Number.isFinite(v.currentTime)) return dur - remain;
                const t = Math.max(0, Math.min(v.currentTime, Number.isFinite(v.duration) ? v.duration : dur / 1000));
                return Math.min(dur, Math.round(t * 1000));
            }

            function syncToVideo(updateProgressUI = true) {
                const dur = currentDuration();
                const elapsed = Math.min(dur, videoElapsedMs());
                tStart = performance.now() - elapsed;
                remain = Math.max(0, dur - elapsed);
                if (updateProgressUI) carousel.style.setProperty('--progress', (elapsed / dur).toString());
            }

            function tick() {
                const dur = currentDuration();
                const p = Math.min(1, (performance.now() - tStart) / dur);
                carousel.style.setProperty('--progress', p.toString());
                rafId = requestAnimationFrame(tick);
            }

            function restartProgress() { syncToVideo(true) }

            function restartActiveVideo() {
                const v = getActiveVideo();
                if (!v) return;
                slides.forEach((s, i) => { const vid = s.querySelector('video'); if (vid && i !== idx) vid.pause?.() });
                const seekToStart = () => { try { v.currentTime = 0 } catch { } };
                if (v.readyState < 1) v.addEventListener('loadedmetadata', seekToStart, { once: true }); else seekToStart();
                const p = v.play?.(); if (p && typeof p.catch === 'function') p.catch(() => { });
            }

            function startAuto() {
                if (reduceMotion) return;
                stopAuto();
                carousel.classList.add('running');
                carousel.classList.remove('paused');
                syncToVideo(true);
                const delay = remain;
                rafId = requestAnimationFrame(tick);
                timeoutId = setTimeout(() => { go(idx + 1); startAuto(true) }, delay);
            }

            function stopAuto() {
                if (timeoutId) { clearTimeout(timeoutId); timeoutId = null }
                if (rafId) { cancelAnimationFrame(rafId); rafId = null }
                syncToVideo(false);
                carousel.classList.remove('running');
                carousel.classList.add('paused');
            }

            slides.forEach((_, i) => {
                const b = document.createElement('button');
                b.type = 'button';
                b.setAttribute('role', 'tab');
                b.setAttribute('aria-label', `Go to slide ${i + 1}`);
                if (i === 0) b.setAttribute('aria-selected', 'true');
                b.addEventListener('click', () => go(i));
                b.classList.add('control');
                dotsWrap.appendChild(b);
            });
            const dots = [...dotsWrap.querySelectorAll('button')];

            function update() {
                track.style.transition = 'transform 320ms ease';
                track.style.transform = `translateX(${-100 * idx}%)`;
                dots.forEach((d, i) => d.setAttribute('aria-selected', i === idx ? 'true' : 'false'));
                slides.forEach((s, i) => s.setAttribute('aria-hidden', i === idx ? 'false' : 'true'));
                restartActiveVideo();
                restartProgress();
            }

            function go(i) {
                idx = (i + slides.length) % slides.length;
                update();
                if (!reduceMotion) startAuto(true);
            }

            if (!isTouch) {
                prevBtn.addEventListener('click', () => go(idx - 1));
                nextBtn.addEventListener('click', () => go(idx + 1));
                carousel.addEventListener('keydown', (e) => {
                    if (e.key === 'ArrowLeft') { e.preventDefault(); go(idx - 1) }
                    if (e.key === 'ArrowRight') { e.preventDefault(); go(idx + 1) }
                });
                carousel.tabIndex = 0;
                carousel.addEventListener('pointerenter', stopAuto);
                carousel.addEventListener('pointerleave', () => startAuto(true));
                carousel.addEventListener('focusin', (e) => { if (!e.target.closest('.control')) stopAuto() });
                carousel.addEventListener('focusout', (e) => { if (!carousel.contains(e.relatedTarget)) startAuto(true) });
            } else {
                carousel.tabIndex = -1;
                carousel.style.touchAction = 'pan-y';
                carousel.style.webkitUserSelect = 'none';
                carousel.style.userSelect = 'none';

                let startX = 0, deltaX = 0, dragging = false, base = 0, width = 0;

                const onDown = (e) => {
                    const p = e.touches ? e.touches[0] : e;
                    dragging = true;
                    width = carousel.clientWidth;
                    startX = p.clientX;
                    base = -idx * width;
                    track.style.transition = 'none';
                    stopAuto();
                };

                const onMove = (e) => {
                    if (!dragging) return;
                    const p = e.touches ? e.touches[0] : e;
                    deltaX = p.clientX - startX;
                    track.style.transform = `translateX(${base + deltaX}px)`;
                };

                const onUp = () => {
                    if (!dragging) return;
                    dragging = false;
                    const threshold = width * 0.15;
                    if (deltaX > threshold) go(idx - 1);
                    else if (deltaX < -threshold) go(idx + 1);
                    else update();
                    startAuto(true);
                    deltaX = 0;
                };

                track.addEventListener('touchstart', onDown, { passive: true });
                track.addEventListener('touchmove', onMove, { passive: true });
                track.addEventListener('touchend', onUp);
                track.addEventListener('pointerdown', onDown);
                window.addEventListener('pointermove', onMove);
                window.addEventListener('pointerup', onUp);
            }

            slides.forEach((s, i) => {
                const v = s.querySelector('video');
                if (!v) return;
                v.addEventListener('loadedmetadata', () => {
                    if (i === idx && carousel.classList.contains('running')) startAuto(true);
                }, { once: true });
            });

            slides.forEach((s, i) => s.setAttribute('aria-hidden', i === 0 ? 'false' : 'true'));
            update();
            startAuto(true);
        })();
    </script>
</body>

</html>